<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Scanner - Track Food Calories</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .scanner-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }
        
        .results-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #2E7D32;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeaea;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .barcode-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .barcode-input:focus {
            border-color: #4CAF50;
            outline: none;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3d8b40;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background-color: #e0e0e0;
        }
        
        .scanner-container {
            background-color: #f9f9f9;
            border: 2px dashed #ccc;
            border-radius: 8px;
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        
        .scanner-icon {
            font-size: 4rem;
            color: #4CAF50;
            margin-bottom: 15px;
        }
        
        .scanner-laser {
            position: absolute;
            width: 100%;
            height: 2px;
            background-color: rgba(76, 175, 80, 0.7);
            top: 40%;
            animation: scan 2s infinite linear;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.8);
        }
        
        @keyframes scan {
            0% { top: 10%; }
            50% { top: 90%; }
            100% { top: 10%; }
        }
        
        .result-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #4CAF50;
        }
        
        .product-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2E7D32;
            margin-bottom: 10px;
        }
        
        .product-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .detail-item {
            background-color: white;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .detail-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4CAF50;
        }
        
        .detail-label {
            font-size: 0.9rem;
            color: #777;
            margin-top: 5px;
        }
        
        .nutri-facts {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .nutri-title {
            font-weight: 700;
            margin-bottom: 10px;
            color: #555;
        }
        
        .nutri-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dotted #ddd;
        }
        
        .no-result {
            text-align: center;
            padding: 40px 20px;
            color: #777;
        }
        
        .no-result i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #ccc;
        }
        
        .recent-scans {
            margin-top: 30px;
        }
        
        .recent-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background-color: #f9f9f9;
            border-radius: 6px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .recent-item:hover {
            background-color: #f0f0f0;
        }
        
        .recent-calories {
            background-color: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: 600;
            margin-left: auto;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #777;
            border-top: 1px solid #eaeaea;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-barcode"></i> Calorie Scanner</h1>
            <p class="tagline">Scan barcodes or manually enter product codes to track nutritional information</p>
        </header>
        
        <div class="main-content">
            <section class="scanner-section">
                <h2 class="section-title">Product Scanner</h2>
                
                <div class="scanner-container">
                    <div class="scanner-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <p>Point your camera at a barcode to scan</p>
                    <div class="scanner-laser"></div>
                </div>
                
                <div class="input-group">
                    <label for="barcode"><i class="fas fa-barcode"></i> Or Enter Barcode Manually</label>
                    <input type="text" id="barcode" class="barcode-input" placeholder="e.g. 012345678912">
                </div>
                
                <div class="input-group">
                    <label for="product-name"><i class="fas fa-pencil-alt"></i> Or Search by Product Name</label>
                    <input type="text" id="product-name" class="barcode-input" placeholder="e.g. Chocolate Chip Cookies">
                </div>
                
                <div class="button-group">
                    <button id="scan-btn" class="btn btn-primary">
                        <i class="fas fa-camera"></i> Scan Barcode
                    </button>
                    <button id="manual-btn" class="btn btn-secondary">
                        <i class="fas fa-keyboard"></i> Manual Lookup
                    </button>
                    <button id="clear-btn" class="btn btn-secondary">
                        <i class="fas fa-redo"></i> Clear
                    </button>
                </div>
            </section>
            
            <section class="results-section">
                <h2 class="section-title">Nutritional Information</h2>
                
                <div id="result-container">
                    <div class="no-result">
                        <i class="fas fa-search"></i>
                        <p>Scan a barcode or enter a product code to see nutritional information</p>
                    </div>
                </div>
                
                <div class="recent-scans">
                    <h3 class="section-title">Recently Scanned</h3>
                    <div id="recent-items">
                        <!-- Recent items will appear here -->
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Calorie Scanner &copy; 2023 | This is a demo application using mock data</p>
            <p>In a real application, this would connect to a nutritional database API</p>
        </footer>
    </div>

    <script>
        // Mock product database
        const productDatabase = [
            {
                barcode: "012345678912",
                name: "Chocolate Chip Cookies",
                brand: "SweetTreats",
                calories: 150,
                servingSize: "1 cookie (30g)",
                nutrients: {
                    fat: 7,
                    carbs: 20,
                    protein: 2,
                    sugar: 12,
                    fiber: 1
                }
            },
            {
                barcode: "123456789012",
                name: "Whole Grain Bread",
                brand: "HealthyGrains",
                calories: 80,
                servingSize: "1 slice (40g)",
                nutrients: {
                    fat: 1,
                    carbs: 15,
                    protein: 4,
                    sugar: 2,
                    fiber: 3
                }
            },
            {
                barcode: "234567890123",
                name: "Greek Yogurt",
                brand: "DairyPure",
                calories: 120,
                servingSize: "1 cup (200g)",
                nutrients: {
                    fat: 2,
                    carbs: 8,
                    protein: 20,
                    sugar: 6,
                    fiber: 0
                }
            },
            {
                barcode: "345678901234",
                name: "Granola Bar",
                brand: "NatureFuel",
                calories: 200,
                servingSize: "1 bar (45g)",
                nutrients: {
                    fat: 8,
                    carbs: 28,
                    protein: 5,
                    sugar: 12,
                    fiber: 4
                }
            },
            {
                barcode: "456789012345",
                name: "Apple Juice",
                brand: "FruitVale",
                calories: 110,
                servingSize: "1 cup (240ml)",
                nutrients: {
                    fat: 0,
                    carbs: 28,
                    protein: 0,
                    sugar: 24,
                    fiber: 0
                }
            },
            {
                barcode: "567890123456",
                name: "Peanut Butter",
                brand: "NuttyGoodness",
                calories: 190,
                servingSize: "2 tbsp (32g)",
                nutrients: {
                    fat: 16,
                    carbs: 7,
                    protein: 8,
                    sugar: 3,
                    fiber: 2
                }
            }
        ];

        // DOM Elements
        const barcodeInput = document.getElementById('barcode');
        const productNameInput = document.getElementById('product-name');
        const scanBtn = document.getElementById('scan-btn');
        const manualBtn = document.getElementById('manual-btn');
        const clearBtn = document.getElementById('clear-btn');
        const resultContainer = document.getElementById('result-container');
        const recentItemsContainer = document.getElementById('recent-items');

        // Initialize recent scans from localStorage or empty array
        let recentScans = JSON.parse(localStorage.getItem('recentScans')) || [];

        // Display recent scans on page load
        displayRecentScans();

        // Event Listeners
        scanBtn.addEventListener('click', simulateScan);
        manualBtn.addEventListener('click', manualLookup);
        clearBtn.addEventListener('click', clearInputs);
        
        // Allow Enter key to trigger manual lookup
        barcodeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') manualLookup();
        });
        
        productNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') manualLookup();
        });

        // Functions
        function simulateScan() {
            // In a real app, this would activate the camera for barcode scanning
            // For this demo, we'll simulate scanning a random product
            const randomProduct = productDatabase[Math.floor(Math.random() * productDatabase.length)];
            
            // Fill the barcode input with the random product's barcode
            barcodeInput.value = randomProduct.barcode;
            
            // Lookup the product
            lookupProduct(randomProduct.barcode);
            
            // Show scanning animation feedback
            scanBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Scanning...';
            setTimeout(() => {
                scanBtn.innerHTML = '<i class="fas fa-camera"></i> Scan Barcode';
            }, 1000);
        }

        function manualLookup() {
            const barcode = barcodeInput.value.trim();
            const productName = productNameInput.value.trim();
            
            if (barcode) {
                lookupProduct(barcode);
            } else if (productName) {
                // Search by product name
                const foundProduct = productDatabase.find(product => 
                    product.name.toLowerCase().includes(productName.toLowerCase())
                );
                
                if (foundProduct) {
                    barcodeInput.value = foundProduct.barcode;
                    displayProduct(foundProduct);
                    addToRecentScans(foundProduct);
                } else {
                    showNoResult();
                }
            } else {
                alert("Please enter a barcode or product name to search.");
            }
        }

        function lookupProduct(barcode) {
            const product = productDatabase.find(item => item.barcode === barcode);
            
            if (product) {
                displayProduct(product);
                addToRecentScans(product);
            } else {
                showNoResult();
            }
        }

        function displayProduct(product) {
            const nutrients = product.nutrients;
            
            resultContainer.innerHTML = `
                <div class="result-card">
                    <div class="product-name">${product.name}</div>
                    <div><strong>Brand:</strong> ${product.brand}</div>
                    <div><strong>Serving Size:</strong> ${product.servingSize}</div>
                    
                    <div class="product-details">
                        <div class="detail-item">
                            <div class="detail-value">${product.calories}</div>
                            <div class="detail-label">Calories</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-value">${nutrients.fat}g</div>
                            <div class="detail-label">Fat</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-value">${nutrients.carbs}g</div>
                            <div class="detail-label">Carbs</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-value">${nutrients.protein}g</div>
                            <div class="detail-label">Protein</div>
                        </div>
                    </div>
                    
                    <div class="nutri-facts">
                        <div class="nutri-title">Nutrition Facts</div>
                        <div class="nutri-item">
                            <span>Sugar</span>
                            <span>${nutrients.sugar}g</span>
                        </div>
                        <div class="nutri-item">
                            <span>Fiber</span>
                            <span>${nutrients.fiber}g</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function showNoResult() {
            resultContainer.innerHTML = `
                <div class="no-result">
                    <i class="fas fa-exclamation-circle"></i>
                    <p>Product not found in database. Try a different barcode or product name.</p>
                    <p style="margin-top: 15px; font-size: 0.9rem;">Sample barcodes to try: ${productDatabase.map(p => p.barcode).join(', ')}</p>
                </div>
            `;
        }

        function addToRecentScans(product) {
            // Remove if already in recent scans
            recentScans = recentScans.filter(item => item.barcode !== product.barcode);
            
            // Add to beginning of array
            recentScans.unshift(product);
            
            // Keep only last 5 items
            if (recentScans.length > 5) {
                recentScans = recentScans.slice(0, 5);
            }
            
            // Save to localStorage
            localStorage.setItem('recentScans', JSON.stringify(recentScans));
            
            // Update display
            displayRecentScans();
        }

        function displayRecentScans() {
            if (recentScans.length === 0) {
                recentItemsContainer.innerHTML = '<p style="color: #777; text-align: center;">No recent scans yet.</p>';
                return;
            }
            
            let html = '';
            recentScans.forEach(product => {
                html += `
                    <div class="recent-item" onclick="selectRecent('${product.barcode}')">
                        <div>
                            <strong>${product.name}</strong><br>
                            <small>${product.brand}</small>
                        </div>
                        <div class="recent-calories">${product.calories} cal</div>
                    </div>
                `;
            });
            
            recentItemsContainer.innerHTML = html;
        }

        function selectRecent(barcode) {
            barcodeInput.value = barcode;
            lookupProduct(barcode);
        }

        function clearInputs() {
            barcodeInput.value = '';
            productNameInput.value = '';
            resultContainer.innerHTML = `
                <div class="no-result">
                    <i class="fas fa-search"></i>
                    <p>Scan a barcode or enter a product code to see nutritional information</p>
                </div>
            `;
        }

        // Demo: Auto-populate with a sample product on page load
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                barcodeInput.value = "012345678912";
                lookupProduct("012345678912");
            }, 500);
        });
    </script>
</body>
</html>
